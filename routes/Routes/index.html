<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Routes (routes.Routes)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">routes</a> &#x00BB; Routes</nav><h1>Module <code>Routes</code></h1><p>Typed routing for OCaml. <code>Routes</code> provides combinators for adding typed routing to OCaml applications. The core library will be independent of any particular web framework or runtime.</p></header><div class="spec module" id="module-Method"><a href="#module-Method" class="anchor"></a><code><span class="keyword">module</span> <a href="Method/index.html">Method</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-path"><a href="#type-path" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b) path</code></dt><dd><p><code>path</code> represents the combination of all path params that are expected in a route.</p></dd></dl><dl><dt class="spec type" id="type-route"><a href="#type-route" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b) route</code></dt><dd><p><code>route</code> represents a combination of an optional HTTP method and path parameters.</p></dd></dl><dl><dt class="spec value" id="val-sprintf"><a href="#val-sprintf" class="anchor"></a><code><span class="keyword">val</span> sprintf : (<span class="type-var">'a</span>, string) <a href="index.html#type-route">route</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>sprintf</code> acceps a <code>route</code> that acts like a &quot;format string&quot;. It will return a function that the user can use to output formatted URLs.</p></dd></dl><dl><dt class="spec value" id="val-match'"><a href="#val-match'" class="anchor"></a><code><span class="keyword">val</span> match' : (<span class="type-var">'a</span> <span>&#45;&gt;</span> Astring.String.sub <span>&#45;&gt;</span> (<span class="type-var">'b</span> * <span class="type-var">'c</span>) option) list <span>&#45;&gt;</span> target:string <span>&#45;&gt;</span> meth:<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> option</code></dt><dd><p><code>match'</code> acceps a list of route descriptions, target url and a http method. If there is a match it returns the output of the handler registered with a route. Otherwise it returns a `None`.</p></dd></dl><dl><dt class="spec value" id="val-int"><a href="#val-int" class="anchor"></a><code><span class="keyword">val</span> int : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-path">path</a> <span>&#45;&gt;</span> (int <span>&#45;&gt;</span> <span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-path">path</a></code></dt><dd><p><code>int</code> will match and extract an integer value that will be forwarded to the request handler.</p></dd></dl><dl><dt class="spec value" id="val-int32"><a href="#val-int32" class="anchor"></a><code><span class="keyword">val</span> int32 : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-path">path</a> <span>&#45;&gt;</span> (int32 <span>&#45;&gt;</span> <span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-path">path</a></code></dt><dd><p><code>int32</code> will match and extract a 32 bit integer.</p></dd></dl><dl><dt class="spec value" id="val-int64"><a href="#val-int64" class="anchor"></a><code><span class="keyword">val</span> int64 : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-path">path</a> <span>&#45;&gt;</span> (int64 <span>&#45;&gt;</span> <span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-path">path</a></code></dt><dd><p><code>int64</code> will match and extract a 64 bit integer.</p></dd></dl><dl><dt class="spec value" id="val-str"><a href="#val-str" class="anchor"></a><code><span class="keyword">val</span> str : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-path">path</a> <span>&#45;&gt;</span> (string <span>&#45;&gt;</span> <span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-path">path</a></code></dt><dd><p><code>str</code> will match and extract a string value that will be forwarded to the request handler.</p></dd></dl><dl><dt class="spec value" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span class="keyword">val</span> bool : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-path">path</a> <span>&#45;&gt;</span> (bool <span>&#45;&gt;</span> <span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-path">path</a></code></dt><dd><p><code>bool</code> will match and extract a boolean value.</p></dd></dl><dl><dt class="spec value" id="val-s"><a href="#val-s" class="anchor"></a><code><span class="keyword">val</span> s : string <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-path">path</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-path">path</a></code></dt><dd><p><code>s str</code> does an exact match on the input string. It consumes and discards the string and as a result the handler doesn't need to work on the parsed string. If there are no paths left to match on given URL, or the match failes, the whole route matching fails.</p></dd></dl><dl><dt class="spec value" id="val-(&lt;/&gt;)"><a href="#val-(&lt;/&gt;)" class="anchor"></a><code><span class="keyword">val</span> (&lt;/&gt;) : ((<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-path">path</a> <span>&#45;&gt;</span> <span class="type-var">'c</span>) <span>&#45;&gt;</span> (<span class="type-var">'d</span> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-path">path</a>) <span>&#45;&gt;</span> <span class="type-var">'d</span> <span>&#45;&gt;</span> <span class="type-var">'c</span></code></dt><dd><p><code>&lt;/&gt;</code> is used to connect two path parsers. Ex: str &lt;/&gt; int will first try and parse a string, followed by an integer. If any of the parsers fail, the whole route matching fails.</p></dd></dl><dl><dt class="spec value" id="val-method'"><a href="#val-method'" class="anchor"></a><code><span class="keyword">val</span> method' : <a href="Method/index.html#type-t">Method.t</a> option <span>&#45;&gt;</span> ((unit <span>&#45;&gt;</span> <span class="type-var">'a</span>, <span class="type-var">'a</span>) <a href="index.html#type-path">path</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'c</span>) <a href="index.html#type-path">path</a>) <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'c</span>) <a href="index.html#type-route">route</a></code></dt><dd><p><code>method'</code> connects an HTTP method to a path parameters, and forms a complete route.</p></dd></dl><dl><dt class="spec value" id="val-(==&gt;)"><a href="#val-(==&gt;)" class="anchor"></a><code><span class="keyword">val</span> (==&gt;) : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-route">route</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="Method/index.html#type-t">Method.t</a> <span>&#45;&gt;</span> Astring.String.Sub.t <span>&#45;&gt;</span> (<span class="type-var">'b</span> * Astring.String.Sub.t) option</code></dt><dd><p><code>==&gt;</code> connects a route matcher to a user provided handler. The handler will receive any params that were extracted while parsing the route.</p></dd></dl></div></body></html>