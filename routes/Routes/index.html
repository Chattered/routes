<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Routes (routes.Routes)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">routes</a> &#x00BB; Routes</nav><h1>Module <code>Routes</code></h1><p>Typed routing for OCaml. <code>Routes</code> provides combinators for adding typed routing to OCaml applications. The core library will be independent of any particular web framework or runtime.</p></header><div class="spec module" id="module-Method"><a href="#module-Method" class="anchor"></a><code><span class="keyword">module</span> <a href="Method/index.html">Method</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> 'a t</code></dt><dd><p><code>'a t</code> represents a path parameter of type 'a.</p></dd></dl><dl><dt class="spec type" id="type-router"><a href="#type-router" class="anchor"></a><code><span class="keyword">type</span> 'a router</code></dt></dl><dl><dt class="spec value" id="val-return"><a href="#val-return" class="anchor"></a><code><span class="keyword">val</span> return : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>return v</code> is a path param parser that always returns v.</p></dd></dl><dl><dt class="spec value" id="val-apply"><a href="#val-apply" class="anchor"></a><code><span class="keyword">val</span> apply : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>apply f t</code> applies a function f that is wrapped inside a <code>'a t</code> context to a path param parser. f &lt;*&gt; p is the same as f &gt;&gt;= fun f -&gt; map ~f p</p></dd></dl><dl><dt class="spec value" id="val-s"><a href="#val-s" class="anchor"></a><code><span class="keyword">val</span> s : string <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt><dd><p><code>s word</code> returns a path parser that matches <code>word</code> exactly and then discards the result.</p></dd></dl><dl><dt class="spec value" id="val-int"><a href="#val-int" class="anchor"></a><code><span class="keyword">val</span> int : int <a href="index.html#type-t">t</a></code></dt><dd><p><code>int</code> parses a path parmeter and succeeds if its an integer.</p></dd></dl><dl><dt class="spec value" id="val-int32"><a href="#val-int32" class="anchor"></a><code><span class="keyword">val</span> int32 : int32 <a href="index.html#type-t">t</a></code></dt><dd><p><code>int32</code> parses a path parameter and succeeds if its a valid 32 bit integer.</p></dd></dl><dl><dt class="spec value" id="val-int64"><a href="#val-int64" class="anchor"></a><code><span class="keyword">val</span> int64 : int64 <a href="index.html#type-t">t</a></code></dt><dd><p><code>int64</code> parses a path parameter and succeeds if its a valid 64 bit integer.</p></dd></dl><dl><dt class="spec value" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span class="keyword">val</span> bool : bool <a href="index.html#type-t">t</a></code></dt><dd><p><code>bool</code> parses a path parameter and succeeds if its either &quot;true&quot; or &quot;false&quot;.</p></dd></dl><dl><dt class="spec value" id="val-str"><a href="#val-str" class="anchor"></a><code><span class="keyword">val</span> str : string <a href="index.html#type-t">t</a></code></dt><dd><p><code>str</code> parses a path param and returns it as a string.</p></dd></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : unit <a href="index.html#type-t">t</a></code></dt><dd><p><code>empty</code> matches an empty target. This can be used to match against &quot;/&quot;.</p></dd></dl><dl><dt class="spec value" id="val-choice"><a href="#val-choice" class="anchor"></a><code><span class="keyword">val</span> choice : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>choice</code> accepts a list of route parsers and returns the first one that matches.</p></dd></dl><dl><dt class="spec value" id="val-with_method"><a href="#val-with_method" class="anchor"></a><code><span class="keyword">val</span> with_method : (<a href="Method/index.html#type-t">Method.t</a> * <span class="type-var">'a</span> <a href="index.html#type-t">t</a>) list <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-router">router</a></code></dt><dd><p><code>choose</code> accepts a list of path param parsers and converts them to a router.</p></dd></dl><dl><dt class="spec value" id="val-match'"><a href="#val-match'" class="anchor"></a><code><span class="keyword">val</span> match' : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span class="type-var">'a</span> option</code></dt><dd><p><code>match'</code> takes a route parser and runs it against the provided target url.</p></dd></dl><dl><dt class="spec value" id="val-match_with_method"><a href="#val-match_with_method" class="anchor"></a><code><span class="keyword">val</span> match_with_method : <span class="type-var">'a</span> <a href="index.html#type-router">router</a> <span>&#45;&gt;</span> target:string <span>&#45;&gt;</span> meth:<a href="Method/index.html#type-t">Method.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> option</code></dt><dd><p><code>match_with_method</code> is used to run the router. It accepts a target url string, HTTP method verb a request of any type (which is forwarded as the last parameter to the handler functions). If a route matches it runs the attached handler and returns the result.</p></dd></dl><div class="spec module" id="module-Infix"><a href="#module-Infix" class="anchor"></a><code><span class="keyword">module</span> <a href="Infix/index.html">Infix</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Routes_private"><a href="#module-Routes_private" class="anchor"></a><code><span class="keyword">module</span> <a href="Routes_private/index.html">Routes_private</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></div></body></html>